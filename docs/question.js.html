<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: question.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: question.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>const qriusity = require('./qriusity'),
    user = require('./user')
    pointPerQuestion = 500,
    streakBonus = 200;
/**
 * @desc function checks if user had given the right answer to a question and returns the result object
 * @param {Object} questionsObject - object contains question data
 * @param {Object} userObject - object contains user data
 * @param {number} questionNumber - number of a fakoot question
 * @param {number} chosenAnswer - number of a question that user chose as an answer
 * @return {Object} Result of the fakoot round
 */
var assessQuestionResult = (questionsObject, userObject, questionNumber, chosenAnswer) => {

  if (questionsObject[questionNumber].answers == chosenAnswer) {
        
    userObject.userScore += pointPerQuestion + streakBonus*userObject.currentStreak;
    userObject.currentStreak++;
    if (userObject.currentStreak > userObject.highestStreak) {
            userObject.highestStreak = userObject.currentStreak;
        }

        return {
            "result": true,
            "currentUser": userObject
        };
    }
    else {
        userObject.currentStreak = 0;
        return {
            "result": false,
            "currentUser": userObject
        };
    }
}
/**
 *  storeQuizResult store current user results with date, score, streak, username to the database
 */
var storeQuizResult = (userObject) => {
    /**
     * 
     * @param {object} userObject - Current user who played the game
     */
    var date = new Date();
    timeStamp = `${date.getDate()}/${date.getMonth() + 1}/${date.getFullYear()} ${date.getHours()}:${date.getMinutes()}:${date.getSeconds()}`;

    user.storeUser(userObject.username, userObject.userScore, userObject.highestStreak, timeStamp)
}

module.exports = {
    assessQuestionResult,
    storeQuizResult
};</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#assessQuestionResult">assessQuestionResult</a></li><li><a href="global.html#getQuestionByCategory">getQuestionByCategory</a></li><li><a href="global.html#getQuestions">getQuestions</a></li><li><a href="global.html#getQuestionsNewApi">getQuestionsNewApi</a></li><li><a href="global.html#getUsers">getUsers</a></li><li><a href="global.html#loadUserFile">loadUserFile</a></li><li><a href="global.html#saveUsers">saveUsers</a></li><li><a href="global.html#sortScores">sortScores</a></li><li><a href="global.html#storeQuizResult">storeQuizResult</a></li><li><a href="global.html#storeUser">storeUser</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Thu Apr 26 2018 15:18:23 GMT-0700 (PDT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
